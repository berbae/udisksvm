The udisksvm script operates between udisks and a window manager with a mouse and a system tray available.
It listens to events and if the conditions are met it mounts a removable media and passes the control to Traydevice in the GUI.
Traydevice is a little desktop application displaying a systray icon and allowing to execute custom commands on the specified device.
It can be find in the Arch User Repository (AUR) : https://aur.archlinux.org/packages.php?ID=32005

udisks------->udisksvm-------->traydevice-------->systray icon
                 |                                     |
                 |                                     |
                 V                                     V
            automounting                        right-click menu
       (non optical disks only)                        |
                                                       |
                                                       V
					    commands to device media

The automounting feature is only for non-optical disks.
It can be disabled with the '-n', '--noauto' command line option.

In its present form it can only manage mounting/unmounting of removable devices with one partition,
or eject unmounted optical disks, using only mouse clicks.

The text tip when the mouse pointer is on the systray icon gives the folder in /media where the media can be accessed in a file manager
after it has been mounted.

The default configuration file for traydevice is /usr/share/udisksvm/udisksvm.xml
A local personal one can be used in place of it, if its path/name is given as a command line argument:
udisksvm <path/to/local/traydevice/configfile.xml>

The script uses the udisks dbus API, so it needs dbus running.

Here is an example of using it with Openbox launched by startx, and Tint2 with systray enabled.

A ConsoleKit session and a dbus instance are needed, so Openbox is started with:

	exec ck-launch-session dbus-launch --exit-with-session openbox-session

In $HOME/.config/openbox/autostart this line will launch udisksvm without any output:

	udisksvm >/dev/null &

The mount options in udisksvm script can be changed, and other file system types can be added with specific options as well.
These file system types and options should be reported in a locally edited traydevice configuration file,
for mounting the devices correctly in the right-click menu.

This method can be considered as a starting point to a more complete management of removable media in a GUI oriented approach.
But it can also be used as is, to simply manage automounting, un-mounting and re-mounting of, for example, memory stick USB devices,
or for accessing data on optical CD/DVD disks.
